sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/ODataModel","sap/ui/Device"],function(e,o,t){"use strict";return{createEmployeeModel:function(){return new o({serviceUrl:"/odata/v4/employee/",synchronizationMode:"None",operationMode:"Server",updateGroupId:"employeeUpdateGroup",autoExpandSelect:true})},createMasterDataModel:async function(){const o=new e({departments:[],roles:[]});try{const[e,t]=await Promise.all([fetch("/odata/v4/employee/Departments"),fetch("/odata/v4/employee/Roles")]);if(!e.ok||!t.ok){throw new Error("Failed to fetch master data.")}const a=await e.json();const n=await t.json();o.setData({departments:a.value,roles:n.value});o.setDefaultBindingMode(sap.ui.model.BindingMode.OneWay)}catch(e){console.error("Error loading master data:",e)}return o},_setModel:function(o,t,a){o.setModel(new e(t),a)},_getModel:function(e,o){let t=e.getModel(o);return t},createEmployee:async function(e){const o=sap.ui.getCore().getModel("EmployeeModel");await o.create("/Employees",e,{groupId:"employeeUpdateGroup"})},createUserModel:function(){return new Promise(function(o,t){var a=new e;$.ajax({url:"/odata/v4/employee/me",method:"GET",success:function(e){a.setData(e);o(a)},error:function(e){console.error("Failed to load user info",e);t(e)}})})}}});
//# sourceMappingURL=models.js.map